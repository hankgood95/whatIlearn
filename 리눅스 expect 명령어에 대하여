쉘 스크립트의 코드를 해석하면서 읽다가 expect라는것을 보게 되어 expect가 뭔지 공부하게 되었다.
그럼 이제 expect가 뭔지 한번 찾아보자.

expect란?
expect는 리눅스에서 커맨드의 입력 자동화를 위해서 있는 스크립트 형식이다.
즉 리눅스 커맨드를 자동으로 입력해주는 자동화 스크립트 같은 것이다.
주로 ssh나 ftp나 sftp와 같이 사용자와 상호작용이 필요한 작업에서 문자열을 자동으로 입력해주는 상황에서 주로 사용한다.


그럼 expect 내에서 사용하는 명령어에 대해서 간략하게 알아보자.

set timeout : 디폴트 타임아웃 시간을 지정하는것이다. 지정하지 않은 경우 default 인 10초로 세팅이 된다.

spawn : expect 내에서 프로세스를 생성하는 커맨드이다.
이것은 이제 spawn 뒤에 나오는 명령어를 실행해 프로세스를 생성하는 커맨드이다.

아래와 같은 명령어를 입력해주면 
spawn env LANG=C /usr/bin/ssh asd@127.0.0.1 
ssh 를 자동으로 연결 시켜주는것이다.

expect : 프로세스로부터 특정 문자열을 기다린다.(그래서 괜히 expect가 아닌것이다.)
만약 내가 설정해놓은 특정 문자열이 들어오게 된다면 해당 문자열에 맞는 응답을 해주게 된다.

send : 타겟 서버로 문자열을 보낸다.

exp_continue : expect가 반복되어서 처리된다. 이때 반복되어서 처리되기 때문에 타임아웃 시간도 리셋이 된다.

interact : expect 종료후 사용자에게 제어권을 넘긴다.

exit : expect 를 종료한다.


